= APIkit XML リファレンス
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: apikit, Maven

このリファレンスには、連動関係、名前空間、スキーマ、および APIkit に関するその他の情報が含まれています。

== APIkit 連動関係情報

----
<dependency>
  <groupId>org.mule.modules</groupId>
  <artifactId>mule-apikit-module</artifactId>
  <version>1.1.0</version>
  <classifier>mule-plugin</classifier>
</dependency>
----

*APIkit 名前空間およびスキーマ*

----
xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
xsi:schemaLocation="http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd"
----

=== Apikit 要素

[%header,cols="30a,50a,8a"]
|===
|Element Name |Description |Required
|*apikit:config* |APIkit configuration |Y
|*apikit:console* |Refers to the config-ref property in the http:listener element in the api-console flow that defines the API Console URL |N
|*apikit:router* |A rest routing message processor nested in the flow element |Y
|===

=== apikit:config の属性

これらの要素は NonBlankString 型です。

[%header,cols="22a,10a,68a"]
|===
|Attribute Name|Required |Description
|*outboundHeadersMapName* |N |Used to identify the name of the map the contains response headers
|*httpStatusVarName* |N |The name of the variable that stores the HTTP status code in the response
|*keepRamlBaseUri* |N | An alias for the equivalent "keepApiBaseUri" attribute.

この属性は APIkit 1.2.0 から非推奨になり、APIkit 1.1.x との互換性のためにのみ残されています。 +
API 実装では「keepRamlBaseUri」の代わりに「keepApiBaseUri」を使用することをお勧めします。
|*name* |Y |Configuration name that other elements, such as apikit:router, reference
|*raml* |Y | An alias for the equivalent "api" attribute.

この属性は APIkit 1.2.0 から非推奨になり、APIkit 1.1.x との互換性のためにのみ残されています。 +
API 実装では「raml」の代わりに「api」を使用することをお勧めします。
|*parser* | N | Specifies the parser used to validate requests.

*この属性は、APIkit 1.2.0 以降で有効です。*

可能な値:

* AUTO: APIkit ルータは AMF の使用開始を試み、それが可能でない (エラーがある) 場合、RAML パーサーを使用して試行します。
* AMF: APIkit ルータは AMF を使用して API を読み取り、受信要求を検証します。
* RAML: APIkit ルータは RAML パーサーを使用して API を読み取り、受信要求を検証します。これは以前の APIkit バージョンと似ています。

*デフォルト値: AUTO*.

| *api* | N | Root API file location.

*この属性は、APIkit 1.2.0 以降で有効です。*

`src/main/resources/api` の下位にあるファイルへの相対パスの任意の URL を使用できます。

| *keepApiBaseUrii* | N | *This attribute is valid for APIkit 1.2.0 and later*

*false* に設定すると、API の RAML 定義内の `baseUri` が書き換えられます。 +
*true* に設定すると、`baseUri` 項目は書き換えられません。


|===

リバースプロキシの背後で APIkit を使用している場合、`keepRamlBaseUri` を true に設定してプロキシの URL を baseUri プロパティで設定していれば、API Console を使用できます。

=== apikit:router の属性

[%header,cols="22a,10a,68a"]
|===
|Attribute Name|Required |Description
|*disableValidations* |N |Disables validations of requests.
|*headerStrictValidation* |N |Validates that request headers are defined in RAML file or belong to a well-known set of headers.
|*queryParamsStrictValidation* |N |Validates that request query parameters are defined in RAML file.
|===
